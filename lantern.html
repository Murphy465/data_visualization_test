<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.8.27">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Lesson 1. The Lantern ‚Äì Data Visualization</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
html { -webkit-text-size-adjust: 100%; }
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./animals.html" rel="next">
<link href="./python_basics.html" rel="prev">
<link href="./images/favicon.ico" rel="icon">
<script src="site_libs/quarto-html/quarto.js" type="module"></script>
<script src="site_libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="site_libs/quarto-html/axe/axe-check.js" type="module"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-ed96de9b727972fe78a7b5d16c58bf87.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap-6c3b040821e40017bde4ccd240f8c1a8.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


<link rel="stylesheet" href="styles.css">
</head>

<body class="nav-sidebar docked nav-fixed quarto-light">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a href="./index.html" class="navbar-brand navbar-brand-logo">
    <img src="./images/home_standard_icon.png" alt="" class="navbar-logo light-content">
    <img src="./images/home_standard_icon.png" alt="" class="navbar-logo dark-content">
    </a>
    <a class="navbar-brand" href="./index.html">
    <span class="navbar-title">Data Visualization</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="./overview.html"> 
<span class="menu-text">Library Resources</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link active" href="./python_basics.html" aria-current="page"> 
<span class="menu-text">Python Tutorials</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./tableau_for_research.html"> 
<span class="menu-text">Tableau Tutorials</span></a>
  </li>  
</ul>
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/OSU-Libraries-Research-Services/data_visualization"> <i class="bi bi-github" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./lantern.html">WEBSITES AND APIS</a></li><li class="breadcrumb-item"><a href="./lantern.html">Lesson 1. The Lantern</a></li></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation docked overflow-auto">
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true">
 <span class="menu-text">INTRODUCTION</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./python_basics.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Mastering the Basics</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="true">
 <span class="menu-text">WEBSITES AND APIS</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./lantern.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text">Lesson 1. The Lantern</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./animals.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Lesson 2. Meet the Animals</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./wikipedia.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Lesson 3. Wikipedia</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./icite.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Lesson 4. iCite</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./pubmed_author_affiliations.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Lesson 5. Author Affiliations</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./ohiolink.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Lesson 6. OhioLINK ETD</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./crossref.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Lesson 7. Crossref</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./scopus.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Lesson 8. Scopus</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" role="navigation" aria-expanded="true">
 <span class="menu-text">DATA VISUALIZATION</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-3" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./python_data_visualization.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Visualizing Data</span></a>
  </div>
</li>
      </ul>
  </li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active" data-toc-expanded="2">
    <h2 id="toc-title">CONTENTS</h2>
   
  <ul>
  <li><a href="#data-skills-concepts" id="toc-data-skills-concepts" class="nav-link active" data-scroll-target="#data-skills-concepts">Data skills | concepts</a></li>
  <li><a href="#learning-objectives" id="toc-learning-objectives" class="nav-link" data-scroll-target="#learning-objectives">Learning objectives</a></li>
  <li><a href="#lesson-1" id="toc-lesson-1" class="nav-link" data-scroll-target="#lesson-1">LESSON 1</a></li>
  <li><a href="#step-1.-copyright-terms-of-use" id="toc-step-1.-copyright-terms-of-use" class="nav-link" data-scroll-target="#step-1.-copyright-terms-of-use">Step 1. Copyright | Terms of Use</a>
  <ul class="collapse">
  <li><a href="#review-and-understand-the-terms-of-use." id="toc-review-and-understand-the-terms-of-use." class="nav-link" data-scroll-target="#review-and-understand-the-terms-of-use.">Review and understand the terms of use.</a></li>
  <li><a href="#fair-use" id="toc-fair-use" class="nav-link" data-scroll-target="#fair-use">Fair Use</a></li>
  <li><a href="#check-for-robots.txt-directives" id="toc-check-for-robots.txt-directives" class="nav-link" data-scroll-target="#check-for-robots.txt-directives">Check for robots.txt directives</a></li>
  </ul></li>
  <li><a href="#step-2.-is-an-api-available" id="toc-step-2.-is-an-api-available" class="nav-link" data-scroll-target="#step-2.-is-an-api-available">Step 2. Is an API available?</a></li>
  <li><a href="#step-3.-examine-search-url" id="toc-step-3.-examine-search-url" class="nav-link" data-scroll-target="#step-3.-examine-search-url">Step 3. Examine search URL</a></li>
  <li><a href="#step-4.-inspect-the-elements" id="toc-step-4.-inspect-the-elements" class="nav-link" data-scroll-target="#step-4.-inspect-the-elements">Step 4. Inspect the elements</a></li>
  <li><a href="#step-5.-identify-python-libraries-for-project" id="toc-step-5.-identify-python-libraries-for-project" class="nav-link" data-scroll-target="#step-5.-identify-python-libraries-for-project">Step 5. Identify Python libraries for project</a>
  <ul class="collapse">
  <li><a href="#requests" id="toc-requests" class="nav-link" data-scroll-target="#requests">requests</a></li>
  <li><a href="#beautifulsoup" id="toc-beautifulsoup" class="nav-link" data-scroll-target="#beautifulsoup">BeautifulSoup</a></li>
  <li><a href="#csv" id="toc-csv" class="nav-link" data-scroll-target="#csv">csv</a></li>
  <li><a href="#time.sleep" id="toc-time.sleep" class="nav-link" data-scroll-target="#time.sleep">time.sleep()</a></li>
  <li><a href="#datetime" id="toc-datetime" class="nav-link" data-scroll-target="#datetime">datetime</a></li>
  </ul></li>
  <li><a href="#step-6.-write-and-test-code" id="toc-step-6.-write-and-test-code" class="nav-link" data-scroll-target="#step-6.-write-and-test-code">Step 6. Write and test code</a>
  <ul class="collapse">
  <li><a href="#using-beautifulsoup" id="toc-using-beautifulsoup" class="nav-link" data-scroll-target="#using-beautifulsoup">Using BeautifulSoup</a>
  <ul class="collapse">
  <li><a href="#find_all" id="toc-find_all" class="nav-link" data-scroll-target="#find_all">.find_all( )</a></li>
  <li><a href="#find" id="toc-find" class="nav-link" data-scroll-target="#find">.find( )</a></li>
  <li><a href="#find_next-and-.find_all_next" id="toc-find_next-and-.find_all_next" class="nav-link" data-scroll-target="#find_next-and-.find_all_next">.find_next( ) and .find_all_next( )</a></li>
  <li><a href="#attributes" id="toc-attributes" class="nav-link" data-scroll-target="#attributes">attributes</a></li>
  </ul></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default"><nav class="quarto-page-breadcrumbs quarto-title-breadcrumbs d-none d-lg-block" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./lantern.html">WEBSITES AND APIS</a></li><li class="breadcrumb-item"><a href="./lantern.html">Lesson 1. The Lantern</a></li></ol></nav>
<div class="quarto-title">
<h1 class="title">Lesson 1. The Lantern</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<p>Web scraping and APIs are popular methods for collecting data from websites. <strong>Webscraping</strong> involves directly parsing a website‚Äôs HTML, allowing extraction of a wide range of data available on a page. Webscraping, however, introduces complexity to a project, especially if the website‚Äôs data is not consistently structured. <strong>APIs</strong> provide structured data and detailed documentation for querying the website and filtering results. They are generally easier to use but may come with restrictions, such as limits on the number of requests per day or the number of records you can retrieve.</p>
<p>In publication since 1881, <a href="https://www.thelantern.com/"><strong><em>The Lantern</em></strong></a> is The Ohio State University‚Äôs award-winning student newspaper. <a href="https://osupublicationarchives.osu.edu/"><strong><em>The Lantern Digital Archives</em></strong></a> includes all articles, illustrations, and advertisments published in <em>The Lantern</em> between 1881 and 2018.</p>
<div class="alert alert-dismissible alert-primary">
<button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
<h4 class="alert-heading anchored">
<img src="images/star_standard_icon.png" alt="" aria-hidden="true" style="height: 3rem; vertical-align: middle; margin-right: 0.5rem;">Important!
</h4>
<p>
The online archive of Ohio State University‚Äôs student newspaper <strong><em>The Lantern</em></strong> is accessible for research and educational purposes only. <strong>Copyright</strong> and other restrictions may apply. Users must obtain the necessary permissions to reprint, reproduce, or otherwise use this material.
</p>
</div>
<p>This lesson introduces BeautifulSoup, a Python library used to parse XML and HTML documents. We will use BeautifulSoup to extract elements from <strong><em>The Lantern‚Äôs</em></strong> XML.</p>
<section id="data-skills-concepts" class="level2">
<h2 class="anchored" data-anchor-id="data-skills-concepts">Data skills | concepts</h2>
<ul>
<li>Search parameters</li>
<li>XML</li>
<li>Web scraping</li>
</ul>
</section>
<section id="learning-objectives" class="level2">
<h2 class="anchored" data-anchor-id="learning-objectives">Learning objectives</h2>
<ol type="1">
<li>Identify search parameters and understand how they are inserted into a url.</li>
<li>Navigate document, element, attribute, and text nodes in a Document Object Model (DOM).</li>
<li>Extract and store XML elements.</li>
</ol>
<p>This tutorial is designed to support multi-session <strong><a href="https://library.osu.edu/events?combine=&amp;tid=All&amp;field_location_code_value=10&amp;sort_bef_combine=field_end_date_value_ASC">workshops</a></strong> hosted by The Ohio State University Libraries Research Commons. It assumes you already have a basic understanding of Python, including how to iterate through lists and dictionaries to extract data using a for loop. To learn basic Python concepts see <a href="./python_basics.html">Python - Mastering the Basics</a> tutorial.</p>
</section>
<section id="lesson-1" class="level1">
<h1>LESSON 1</h1>
</section>
<section id="step-1.-copyright-terms-of-use" class="level1">
<h1>Step 1. Copyright | Terms of Use</h1>
<p>Before starting any webscraping or API project, you must</p>
<section id="review-and-understand-the-terms-of-use." class="level2">
<h2 class="anchored" data-anchor-id="review-and-understand-the-terms-of-use.">Review and understand the terms of use.</h2>
<ul class="task-list">
<li><label><input type="checkbox">Do the terms of service include any restrictions or guidelines?</label></li>
<li><label><input type="checkbox">Are permissions/licenses needed to scrape data? If yes, have you obtained these permissions/licenses?</label></li>
<li><label><input type="checkbox">Is the information publicly available?</label></li>
<li><label><input type="checkbox">If a database, is the database protected by copyright? Or in the public domain</label></li>
</ul>
</section>
<section id="fair-use" class="level2">
<h2 class="anchored" data-anchor-id="fair-use">Fair Use</h2>
<p>Limited use of copyrighted materials is allowed under certain conditions for journalism, scholarship, and teaching. <a href="https://library.osu.edu/copyright/fair-use">Use the Resources for determining fair use</a> to verify your project is within the scope of fair use. Contact University Libraries <a href="https://library.osu.edu/copyright">Copyright Services</a> if you have any questions.</p>
</section>
<section id="check-for-robots.txt-directives" class="level2">
<h2 class="anchored" data-anchor-id="check-for-robots.txt-directives">Check for robots.txt directives</h2>
<p>robots.txt directives limit web-scraping or web-crawling. Look for this file in the root directory of the website by adding /robots.txt to the end of the url. Respect these directives.</p>
<div id="accordionExercise1" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header anchored" id="ex1-headingOne">
<button class="accordion-button fs-3" type="button" data-bs-toggle="collapse" data-bs-target="#ex1-collapseOne" aria-expanded="true" aria-controls="ex1-collapseOne">
<img src="images/guidepost_standard_icon.png" alt="" aria-hidden="true" style="height: 3rem; vertical-align: middle; margin-right: 0.5rem;">Exercise 1: Examine Copyright | Terms of Use
</button>
</h2>
<div id="ex1-collapseOne" class="accordion-collapse collapse show fs-4" aria-labelledby="ex1-headingOne" data-bs-parent="#accordionExercise1">
<div class="accordion-body fs-4">
<ol>
<li>
Go to the <a href="https://osupublicationarchives.osu.edu/">OSU Publication Archives website</a>
</li>
<li>
. Where is the Copyright Notice for this resource?
</li>
<li>
What are the terms of use?
</li>
</ol>
</div>
</div>
</div>
<div class="accordion-item">
<h2 class="accordion-header anchored" id="ex1-headingTwo">
<button class="accordion-button fs-3 collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#ex1-collapseTwo" aria-expanded="false" aria-controls="ex1-collapseTwo">
<img src="images/magnifying_glass_standard_icon.png" alt="" aria-hidden="true" style="height: 3rem; vertical-align: middle; margin-right: 0.5rem;">Solution:
</button>
</h2>
<div id="ex1-collapseTwo" class="accordion-collapse collapse" aria-labelledby="ex1-headingTwo" data-bs-parent="#accordionExercise1">
<div class="accordion-body">
<p>
The Copyright Notice for The Ohio State University‚Äôs online archive of The Lantern student newspaper can be found on the bottom right of the <a href="https://osupublicationarchives.osu.edu/">OSU Publication Archives website</a>. The <a href="https://osupublicationarchives.osu.edu/?a=p&amp;p=terms&amp;e=-------en-20--1--txt-txIN-------#all">Terms of use</a> are listed separately at the bottom left.
</p>
</div>
</div>
</div>
</div>
<div class="alert alert-dismissible alert-info">
<button type="button" class="btn-close" data-bs-dismiss="alert"></button>
<h4 class="alert-heading anchored">
<img src="images/document_pencil_standard_icon.png" alt="" aria-hidden="true" style="height: 3rem; vertical-align: middle; margin-right: 0.5rem;">Note:
</h4>
<p>
The Ohio State University provides the online archives of Ohio State‚Äôs student newspaper <em>The Lantern</em>, the student yearbook <em>The Makio</em>, and alumni magazines for research and educational purposes only. The Terms of Use specify that unauthorized <strong>mass</strong> downloading or scraping into any format is prohibited. For this lesson, please limit your search results to scrape no more than 100 records.
</p>
</div>
</section>
</section>
<section id="step-2.-is-an-api-available" class="level1">
<h1>Step 2. Is an API available?</h1>
<p>APIs can simplify data collection from a website by returning structured data such as JSON or XML. Examples of APIs include:</p>
<ul>
<li><a href="https://www.ncbi.nlm.nih.gov/books/NBK25500/">PubMed eUtilities</a></li>
<li><a href="https://dev.elsevier.com/">Elsevier APIs</a></li>
<li><a href="https://developer.spotify.com/documentation/web-api">Spotify Web API</a></li>
</ul>
<p>To determine if an API is available, try searching for the name of the website and ‚ÄúAPI‚Äù or ‚Äúdocumentation.‚Äù If an API is available, read the terms of use and consider factors like rate limits, costs, and access restrictions.</p>
<p>If an API is not available, that‚Äôs okay. Data collection might be a bit more complex, but always remember to respect copyright and terms of use.</p>
<div class="card border-primary mb-3 p-1">
<div class="card-header" style="font-size: 1.8rem;">
<img src="images/idea_standard_icon.png" alt="" aria-hidden="true" style="height: 3rem; vertical-align: middle; margin-right: 0.5rem;">Tip:
</div>
<div class="card-body">
<p>
The <a href="https://osupublicationarchives.osu.edu/">OSU Publication Archives website</a> is powered by Veridian software, enabling full-text searching of the Libraries digital collections possible. To output a search results from The Lantern to XML, simply add <code>&amp;f=XML</code> to the end of your url. See the <a href="https://demos.veridiansoftware.com/latest/text-correct/web/xml-interface-documentation/VeridianXMLInterface.htm">Veridian XML Interface</a> documentation to learn more about this service.
</p>
</div>
</div>
</section>
<section id="step-3.-examine-search-url" class="level1">
<h1>Step 3. Examine search URL</h1>
<p>To identify search parameters and insert your parameters into a url, first try searching the <a href="https://osupublicationarchives.osu.edu/?a=p&amp;p=home&amp;e=-------en-20--1--txt-txIN-------">OSU Publication Archives website</a> for <code>homecoming parade</code>. Adjust the filters on the left to show results for the decade <code>1970-1979</code>, publication <code>The Lantern</code>, and category <code>Article</code>.</p>
<p><img src="images/lantern_homecoming_parade.png" class="img-fluid" alt="Screenshot of search result"></p>
<p>Once you‚Äôve set your filters, you should have <strong>51 results</strong>. The first 20 search results are displayed on page 1.</p>
<p>Take a look at the search URL. As you‚Äôve searched for <code>homecoming parade</code>, the decade <code>1970-1979</code>, publication <code>The Lantern</code> and category <code>Article</code>, the Veridian software has constructed a server request and inserted your parameters into the url.</p>
<p><img src="images/lantern_search_url.png" class="img-fluid" alt="Screenshot of search url showing the position of homecoming+parade, the publication abbreviation LTN, the tyq Article, and the decade 197-"></p>
<p>Scroll to the bottom and click on page 2 to see search results 21-40. Note that the search result has changed to <strong>r=21</strong>.</p>
<p><img src="images/search_results_2.png" class="img-fluid" alt="Screenshot of url, r now equals 21"></p>
<p>Return to page 1 of your search, scroll to the right end of your search URL and add the characters <code>&amp;f=XML</code> to the end of the string. By adding <code>&amp;f=XML</code> to the request parameters, the server returns structured XML output.</p>
<p><img src="images/search_results_3.png" class="img-fluid" alt="Screenshot of url with &amp;f=XML added to the end of the url"></p>
<p><img src="images/lantern_xml.png" class="img-fluid" alt="Screenshot of XML output"></p>
</section>
<section id="step-4.-inspect-the-elements" class="level1">
<h1>Step 4. Inspect the elements</h1>
<p>XML and HTML are tree-structured documents. When you request a search URL, it retrieves an HTML or XML page from a server. The browser then downloads the page into local memory and parses the HTML or XML for display.</p>
<p>The <a href="https://en.wikipedia.org/wiki/Document_Object_Model">Document Object Model (DOM)</a> respresents the overall tree-structure of the XML or HTML document. For example, in the XML document shown in Step 2 above: - <code>VeridianXMLResponse</code> represents the document node. - All XML elements within <code>VeridianXMLResponse</code> are element nodes. - There is some HTML present in the <code>SearchResultSnippetHTML</code> node. - There are no XML attribute nodes, but there are HTML attribute nodes in the <code>SearchResultSnippetHTML</code> node. - Text between the XML elements are text nodes.</p>
<p>The tree is hierachically structured and each tree branch ends with a node. Each node contains objects, and nodes can be nested within nodes.</p>
</section>
<section id="step-5.-identify-python-libraries-for-project" class="level1">
<h1>Step 5. Identify Python libraries for project</h1>
<p>To gather XML and HTML data from websites and APIs, you‚Äôll need several Python libraries. Some libraries handle web server requests and responses, while others parse the retrieved content. Libraries like Pandas and CSV are used to store and output results as .csv files.</p>
<section id="requests" class="level2">
<h2 class="anchored" data-anchor-id="requests">requests</h2>
<p>The <a href="https://requests.readthedocs.io/en/latest/">requests</a> library retrieves HTML or XML documents from a server and processes the response.</p>
<div id="c473c17c" class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb1"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> requests</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>url<span class="op">=</span><span class="st">"https://library.osu.edu"</span> <span class="co">#INSERT URL HERE</span></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a>response<span class="op">=</span>requests.get(url)</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a>text<span class="op">=</span>response.text <span class="co"># This returns the response content as text</span></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="bu">bytes</span><span class="op">=</span>response.content  <span class="co"># This returns the response content as bytes.</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
</section>
<section id="beautifulsoup" class="level2">
<h2 class="anchored" data-anchor-id="beautifulsoup">BeautifulSoup</h2>
<p><strong><a href="https://beautiful-soup-4.readthedocs.io/en/latest/">BeautifulSoup</a></strong> parses HTML and XML documents, helping you search for and extract elements from the DOM. The first argument is the content to be parsed, and the second specifies the parsing library to use.</p>
<ul>
<li><code>html.parser</code> The default HTML parser</li>
<li><code>lxml</code> a faster parser with more features*</li>
<li><code>xml</code> parses XML</li>
<li><code>html5lib</code> for HTML5 parsing*</li>
</ul>
<p>üîó Additional keyword arguments (**kwargs) are available. See the <a href="https://beautiful-soup-4.readthedocs.io/en/latest/">BeautifulSoup</a> documentation.</p>
<div id="ae428fb7" class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb2"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> requests</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> bs4 <span class="im">import</span> BeautifulSoup</span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a>url<span class="op">=</span><span class="st">"https://library.osu.edu"</span> <span class="co">#INSERT URL HERE</span></span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a>response<span class="op">=</span>requests.get(url).content</span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a>soup<span class="op">=</span>BeautifulSoup(response, <span class="st">'xml'</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<p>Other Python libraries for parsing include:</p>
<ul>
<li><a href="https://lxml.de/lxmlhtml.html">lxml.html</a></li>
<li><a href="https://www.pyquery.org/pyquery-core-functions/">pyQuery</a></li>
<li><a href="https://www.selenium.dev/documentation/">Selenium</a></li>
</ul>
<p>Each library has its strengths and weaknesses. To learn more about different parsing tools read Anish Chapagain‚Äôs <a href="https://search.library.osu.edu/permalink/01OHIOLINK_OSU/rr4vai/alma991085522232508507">Hands-On Web Scraping with Python, 2nd edition</a></p>
<p>*Verify that <code>lxml</code> or <code>html5lib</code> is installed in your Anaconda environment before using.</p>
</section>
<section id="csv" class="level2">
<h2 class="anchored" data-anchor-id="csv">csv</h2>
<p>The <strong><a href="https://docs.python.org/3/library/csv.html">csv</a></strong> module both writes and reads .csv data.</p>
<p><strong>Sample workflow</strong></p>
<ol type="1">
<li><code>import csv</code></li>
<li>Create an empty list named dataset</li>
<li>Assign .csv headers to a list named columns</li>
<li>Define the writeto_csv function to write results to a .csv file</li>
<li>Gather variables</li>
<li>For each row of data, append a list of variables following the order of the .csv headers to the dataset list.</li>
<li>Use the writeto_csv function to write results to a .csv file</li>
</ol>
<div id="fd8240ea" class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb3"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> csv</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a><span class="co">#####     STEP 1 - CREATE EMPTY DATASET AND DEFINE CSV HEADINGS     ##### </span></span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a>dataSet<span class="op">=</span>[]</span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a>columns<span class="op">=</span>[<span class="st">'name'</span>,<span class="st">'pet'</span>,<span class="st">'age'</span>,<span class="st">'profession'</span>] <span class="co"># for CSV headings</span></span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a><span class="co">#####     STEP 2 - DEFINE FUNCTION TO WRITE RESULTS TO CSV FILE     #####</span></span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> writeto_csv(data,filename,columns):</span>
<span id="cb3-10"><a href="#cb3-10" aria-hidden="true" tabindex="-1"></a>    <span class="cf">with</span> <span class="bu">open</span>(filename,<span class="st">'w+'</span>,newline<span class="op">=</span><span class="st">''</span>,encoding<span class="op">=</span><span class="st">"UTF-8"</span>) <span class="im">as</span> <span class="bu">file</span>:</span>
<span id="cb3-11"><a href="#cb3-11" aria-hidden="true" tabindex="-1"></a>        writer <span class="op">=</span> csv.DictWriter(<span class="bu">file</span>,fieldnames<span class="op">=</span>columns)</span>
<span id="cb3-12"><a href="#cb3-12" aria-hidden="true" tabindex="-1"></a>        writer.writeheader()</span>
<span id="cb3-13"><a href="#cb3-13" aria-hidden="true" tabindex="-1"></a>        writer <span class="op">=</span> csv.writer(<span class="bu">file</span>)</span>
<span id="cb3-14"><a href="#cb3-14" aria-hidden="true" tabindex="-1"></a>        <span class="cf">for</span> element <span class="kw">in</span> data:</span>
<span id="cb3-15"><a href="#cb3-15" aria-hidden="true" tabindex="-1"></a>            writer.writerows([element])</span>
<span id="cb3-16"><a href="#cb3-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-17"><a href="#cb3-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-18"><a href="#cb3-18" aria-hidden="true" tabindex="-1"></a>name<span class="op">=</span><span class="st">"Stanley"</span></span>
<span id="cb3-19"><a href="#cb3-19" aria-hidden="true" tabindex="-1"></a>pet<span class="op">=</span><span class="st">"dog"</span></span>
<span id="cb3-20"><a href="#cb3-20" aria-hidden="true" tabindex="-1"></a>age<span class="op">=</span><span class="dv">8</span></span>
<span id="cb3-21"><a href="#cb3-21" aria-hidden="true" tabindex="-1"></a>profession<span class="op">=</span><span class="st">"chipmunk control"</span></span>
<span id="cb3-22"><a href="#cb3-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-23"><a href="#cb3-23" aria-hidden="true" tabindex="-1"></a>dataSet.append([name, pet, age, profession])</span>
<span id="cb3-24"><a href="#cb3-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-25"><a href="#cb3-25" aria-hidden="true" tabindex="-1"></a>writeto_csv(dataSet,<span class="st">'data/pets.csv'</span>,columns)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
</section>
<section id="time.sleep" class="level2">
<h2 class="anchored" data-anchor-id="time.sleep">time.sleep()</h2>
<p>Most APIs limit the number of records you can request per second. <strong><a href="https://docs.python.org/3/library/time.html#time.sleep">time.sleep( )</a></strong> suspends your program for a specified number of seconds.</p>
<div id="f78dae88" class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb4"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> time</span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>time.sleep(<span class="dv">5</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
</section>
<section id="datetime" class="level2">
<h2 class="anchored" data-anchor-id="datetime">datetime</h2>
<p>It is good practice to include a <code>last_updated</code> column in any dataset you‚Äôve created after gathering HTML or XML data. The <strong><a href="https://docs.python.org/3/library/datetime.html#datetime.date.today">datetime</a></strong> module can be used to identify the date you last ran your Python program.</p>
<div id="44acc4de" class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb5"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> datetime <span class="im">import</span> date</span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>today <span class="op">=</span> date.today()</span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a>last_updated<span class="op">=</span>today</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
</section>
</section>
<section id="step-6.-write-and-test-code" class="level1">
<h1>Step 6. Write and test code</h1>
<p>After examining the copyright and terms of use for the website, determining the availability of an API, examining the search URL, inspecting the XML elements, and identifying suitable Python libraries for the project, the final step is to write the code. It is recommended to use an interactive development environment (IDE) such as <a href="https://youtu.be/1kKTYsQdaPw?si=JbZb6Byg8iRTSS0u">Visual Studio Code</a> or <a href="https://docs.spyder-ide.org/current/index.html">Spyder</a> for this task. IDEs provide quick feedback as you iteratively create your code, explore your data, and more.</p>
<div id="accordionExercise2" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header anchored" id="ex-2headingOne" data-anchor-id="step-6.-write-and-test-code">
<button class="accordion-button fs-3" type="button" data-bs-toggle="collapse" data-bs-target="#ex2-collapseOne" aria-expanded="true" aria-controls="ex2-collapseOne">
<img src="images/guidepost_standard_icon.png" alt="" aria-hidden="true" style="height: 3rem; vertical-align: middle; margin-right: 0.5rem;">Exercise 2: Retrieve XML
</button>
</h2>
<div id="ex2-collapseOne" class="accordion-collapse collapse show fs-4" aria-labelledby="ex-2headingOne" data-bs-parent="#accordionExercise2">
<div class="accordion-body fs-4">
<ol>
<li>
Search the <a href="https://osupublicationarchives.osu.edu/">OSU Publication Archives website</a> for <code>homecoming parade</code>.
</li>
<li>
Adjust the filters on the left to show results for the decade <code>1970-1979</code>, publication <code>The Lantern</code>, and category <code>Article</code> and output the search results to <code>&amp;f=XML</code> to the search url.
</li>
<li>
Write a Python script to retrieve the XML output from the server and process the response.
</li>
</ol>
</div>
</div>
</div>
<div class="accordion-item">
<h2 class="accordion-header anchored" id="ex2-headingTwo">
<button class="accordion-button fs-3 collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#ex2-collapseTwo" aria-expanded="false" aria-controls="ex2-collapseTwo">
<img src="images/magnifying_glass_standard_icon.png" alt="" aria-hidden="true" style="height: 3rem; vertical-align: middle; margin-right: 0.5rem;">Solution:
</button>
</h2>
<div id="ex2-collapseTwo" class="accordion-collapse collapse" aria-labelledby="ex2-headingTwo" data-bs-parent="#accordionExercise2">
<div class="accordion-body">
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb6"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> requests</span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a>url<span class="op">=</span><span class="st">"https://osupublicationarchives.osu.edu/?a=q&amp;r=1&amp;results=1&amp;tyq=ARTICLE&amp;e=------197-en-20-LTN-1--txt-txIN-homecoming+parade------&amp;f=XML"</span></span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a>response<span class="op">=</span>requests.get(url).content</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
</div>
</div>
</div>
<section id="using-beautifulsoup" class="level2">
<h2 class="anchored" data-anchor-id="using-beautifulsoup">Using BeautifulSoup</h2>
<p>Various methods and approaches may be used to gather and extract XML elements using BeautifulSoup. First we ask BeautifulSoup to <strong><a href="https://beautiful-soup-4.readthedocs.io/en/latest/#find-all">search the tree</a></strong> to find the element nodes we identified in Step 4. Helpful methods include:</p>
<section id="find_all" class="level3">
<h3 class="anchored" data-anchor-id="find_all">.find_all( )</h3>
<p>Gathers all instances of a tag (i.e.&nbsp;element) and returns a response object. Each instance of the tag is then examined using a for loop.</p>
<div id="e0a465e2" class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb7"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>find_all(name, attrs, recursive, string, limit, <span class="op">**</span>kwargs)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<p><strong>Example</strong>:</p>
<div id="9c45878b" class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb8"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> requests</span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> bs4 <span class="im">import</span> BeautifulSoup</span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a>url<span class="op">=</span><span class="st">"https://osupublicationarchives.osu.edu/?a=q&amp;r=1&amp;results=1&amp;tyq=ARTICLE&amp;e=------197-en-20-LTN-1--txt-txIN-homecoming+parade------&amp;f=XML"</span></span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a>response<span class="op">=</span>requests.get(url).content</span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true" tabindex="-1"></a>soup<span class="op">=</span>BeautifulSoup(response, <span class="st">'xml'</span>)</span>
<span id="cb8-7"><a href="#cb8-7" aria-hidden="true" tabindex="-1"></a>logical_sections <span class="op">=</span> soup.find_all(<span class="st">"LogicalSection"</span>)</span>
<span id="cb8-8"><a href="#cb8-8" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> each_section <span class="kw">in</span> logical_sections:</span>
<span id="cb8-9"><a href="#cb8-9" aria-hidden="true" tabindex="-1"></a>    result_number <span class="op">=</span> each_section.SearchResultNumber.string</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<p><strong>Note</strong> that <code>each_section.SearchResultNumber</code> in the example above is equivalent to <code>each_section.find_all("SearchResultNumber")</code>. Appending <code>.string</code> to <code>each_section.SearchResultNumber</code> extracts the text between the tags for <code>SearchResultNumber</code>.</p>
<div class="card border-primary mb-3 p-1">
<div class="card-header" style="font-size: 1.8rem;">
<img src="images/idea_standard_icon.png" alt="" aria-hidden="true" style="height: 3rem; vertical-align: middle; margin-right: 0.5rem;">Tip:
</div>
<div class="card-body">
<img src="images/microsoft_copilot_icon.svg" alt="" aria-hidden="true" style="width:48px;height:48px;float:right;margin-left:10px;">
<p>
Learning to navigate tags with BeautifulSoup can be difficult at first. Try using Copilot in tandem with <a href="https://beautiful-soup-4.readthedocs.io/en/latest">BeautifulSoup‚Äôs</a> documentation to help you both identify and understand how to apply useful methods for your project.
</p>
<p>
<strong>Example:</strong> Ask Copilot what is the difference between <span class="text-primary">tag.string</span> and <span class="text-primary">tag.text</span> in BeautifulSoup.
</p>
</div>
</div>
</section>
<section id="find" class="level3">
<h3 class="anchored" data-anchor-id="find">.find( )</h3>
<p>Gathers the first instance of a tag.</p>
<div id="9ca606b9" class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb9"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a>find(name, attrs, recursive, string, <span class="op">**</span>kwargs)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
</section>
<section id="find_next-and-.find_all_next" class="level3">
<h3 class="anchored" data-anchor-id="find_next-and-.find_all_next">.find_next( ) and .find_all_next( )</h3>
<p>Gathers the following instance of a named tag.</p>
<div id="88cd2c2c" class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb10"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a>find_next(name, attrs, string, <span class="op">**</span>kwargs)</span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>find_all_next(name, attrs, string, limit, <span class="op">**</span>kwargs)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
</section>
<section id="attributes" class="level3">
<h3 class="anchored">attributes</h3>
<div id="1be822b8" class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb11"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>name[attr]</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<p>Tags can have any number of <strong><a href="https://beautiful-soup-4.readthedocs.io/en/latest/#attributes">attributes</a></strong>.</p>
<p><strong>Example</strong>:<br>
<code>href</code> is an attribute of an <code>&lt;a href="url"&gt;</code> tag. To find an `href attribute value:</p>
<div id="b80a5cbd" class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb12"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a>a[<span class="st">'href'</span>]</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<div id="ex3-accordionExercise3" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header anchored" id="ex3-headingOne" data-anchor-id="attributes">
<button class="accordion-button fs-3" type="button" data-bs-toggle="collapse" data-bs-target="#ex3-collapseOne" aria-expanded="true" aria-controls="ex3-collapseOne">
<img src="images/guidepost_standard_icon.png" alt="" aria-hidden="true" style="height: 3rem; vertical-align: middle; margin-right: 0.5rem;">Exercise 3: Gather and extract elements
</button>
</h2>
<div id="ex3-collapseOne" class="accordion-collapse collapse show fs-4" aria-labelledby="ex3-headingOne" data-bs-parent="#ex3-accordionExercise3">
<div class="accordion-body fs-4">
<ol>
<li>
<ol type="1">
<li>Examine the XML structure and identify the nodes for the following elements:
<ul>
<li>
unique_id
</li>
<li>
article_title
</li>
<li>
article_type
</li>
<li>
document_date
</li>
</ul>
</li>
<li>
Write a Python script that uses csv and BeautifulSoup to gather and store these elements. Focus on the first 20 search results.
</li>
</ol>
</li></ol></div>
</div>
</div>

<div class="accordion-item">
<h2 class="accordion-header anchored" id="ex3-headingTwo">
<button class="accordion-button fs-3 collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#ex3-collapseTwo" aria-expanded="false" aria-controls="ex3-collapseTwo">
<img src="images/magnifying_glass_standard_icon.png" alt="" aria-hidden="true" style="height: 3rem; vertical-align: middle; margin-right: 0.5rem;">Solution:
</button>
</h2>
<div id="ex3-collapseTwo" class="accordion-collapse collapse" aria-labelledby="ex3-headingTwo" data-bs-parent="#ex3-accordionExercise3">
<div class="accordion-body">
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb13"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 1. Import libraries</span></span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> requests</span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> csv</span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> bs4 <span class="im">import</span> BeautifulSoup</span>
<span id="cb13-5"><a href="#cb13-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-6"><a href="#cb13-6" aria-hidden="true" tabindex="-1"></a><span class="co"># 2. Create a function to write search results to csv</span></span>
<span id="cb13-7"><a href="#cb13-7" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> writeto_csv(data, filename, columns):</span>
<span id="cb13-8"><a href="#cb13-8" aria-hidden="true" tabindex="-1"></a>    <span class="cf">with</span> <span class="bu">open</span>(filename, <span class="st">'w+'</span>, newline<span class="op">=</span><span class="st">''</span>, encoding<span class="op">=</span><span class="st">"UTF-8"</span>) <span class="im">as</span> <span class="bu">file</span>:</span>
<span id="cb13-9"><a href="#cb13-9" aria-hidden="true" tabindex="-1"></a>        writer <span class="op">=</span> csv.DictWriter(<span class="bu">file</span>, fieldnames<span class="op">=</span>columns)</span>
<span id="cb13-10"><a href="#cb13-10" aria-hidden="true" tabindex="-1"></a>        writer.writeheader()</span>
<span id="cb13-11"><a href="#cb13-11" aria-hidden="true" tabindex="-1"></a>        writer <span class="op">=</span> csv.writer(<span class="bu">file</span>)</span>
<span id="cb13-12"><a href="#cb13-12" aria-hidden="true" tabindex="-1"></a>        <span class="cf">for</span> element <span class="kw">in</span> data:</span>
<span id="cb13-13"><a href="#cb13-13" aria-hidden="true" tabindex="-1"></a>            writer.writerows([element])</span>
<span id="cb13-14"><a href="#cb13-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-15"><a href="#cb13-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-16"><a href="#cb13-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-17"><a href="#cb13-17" aria-hidden="true" tabindex="-1"></a><span class="co"># 3. Define headers for final dataset</span></span>
<span id="cb13-18"><a href="#cb13-18" aria-hidden="true" tabindex="-1"></a>columns<span class="op">=</span>[<span class="st">'result_number'</span>,<span class="st">'unique_id'</span>,<span class="st">'artile_title'</span>,<span class="st">'article_type'</span>,<span class="st">'document_date'</span>]</span>
<span id="cb13-19"><a href="#cb13-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-20"><a href="#cb13-20" aria-hidden="true" tabindex="-1"></a><span class="co">#4. Create empty dataset to store each row of data for csv file</span></span>
<span id="cb13-21"><a href="#cb13-21" aria-hidden="true" tabindex="-1"></a>dataset <span class="op">=</span> []</span>
<span id="cb13-22"><a href="#cb13-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-23"><a href="#cb13-23" aria-hidden="true" tabindex="-1"></a><span class="co">#5. Retrieve the XML</span></span>
<span id="cb13-24"><a href="#cb13-24" aria-hidden="true" tabindex="-1"></a>url<span class="op">=</span><span class="st">"https://osupublicationarchives.osu.edu/?a=q&amp;r=1&amp;results=1&amp;tyq=ARTICLE&amp;e=------197-en-20-LTN-1--txt-txIN-homecoming+parade------&amp;f=XML"</span></span>
<span id="cb13-25"><a href="#cb13-25" aria-hidden="true" tabindex="-1"></a>response<span class="op">=</span>requests.get(url).content</span>
<span id="cb13-26"><a href="#cb13-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-27"><a href="#cb13-27" aria-hidden="true" tabindex="-1"></a><span class="co">#6. Parse the content with Beautiful Soup </span></span>
<span id="cb13-28"><a href="#cb13-28" aria-hidden="true" tabindex="-1"></a>soup <span class="op">=</span> BeautifulSoup(response, <span class="st">'xml'</span>)    </span>
<span id="cb13-29"><a href="#cb13-29" aria-hidden="true" tabindex="-1"></a>logical_sections <span class="op">=</span> soup.find_all(<span class="st">"LogicalSection"</span>)</span>
<span id="cb13-30"><a href="#cb13-30" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> each_section <span class="kw">in</span> logical_sections:</span>
<span id="cb13-31"><a href="#cb13-31" aria-hidden="true" tabindex="-1"></a>    result_number <span class="op">=</span> each_section.SearchResultNumber.string</span>
<span id="cb13-32"><a href="#cb13-32" aria-hidden="true" tabindex="-1"></a>    unique_id <span class="op">=</span> each_section.find(<span class="st">"LogicalSectionID"</span>).string</span>
<span id="cb13-33"><a href="#cb13-33" aria-hidden="true" tabindex="-1"></a>    article_title <span class="op">=</span> each_section.find(<span class="st">"LogicalSectionTitle"</span>).string</span>
<span id="cb13-34"><a href="#cb13-34" aria-hidden="true" tabindex="-1"></a>    article_type <span class="op">=</span> each_section.find(<span class="st">"LogicalSectionType"</span>).string</span>
<span id="cb13-35"><a href="#cb13-35" aria-hidden="true" tabindex="-1"></a>    document_date <span class="op">=</span> each_section.find(<span class="st">"DocumentDate"</span>).string</span>
<span id="cb13-36"><a href="#cb13-36" aria-hidden="true" tabindex="-1"></a>    dataset.append([result_number,unique_id,article_title,article_type,document_date]) <span class="co">#adds a list of variables for each section to the dataset</span></span>
<span id="cb13-37"><a href="#cb13-37" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-38"><a href="#cb13-38" aria-hidden="true" tabindex="-1"></a><span class="co">#7. Use the writeto_csv function defined in #2 to create the final .csv file with each row  </span></span>
<span id="cb13-39"><a href="#cb13-39" aria-hidden="true" tabindex="-1"></a>writeto_csv(dataset,<span class="st">'data/lantern_results.csv'</span>,columns)     <span class="co">#uses the function defined in #2 to create the final .csv file with each row  </span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
</div>
</div>
</div>
<div id="accordionExercise4" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header anchored" id="ex4-headingOne">
<button class="accordion-button fs-3" type="button" data-bs-toggle="collapse" data-bs-target="#ex4-collapseOne" aria-expanded="true" aria-controls="ex4-collapseOne">
<img src="images/guidepost_standard_icon.png" alt="" aria-hidden="true" style="height: 3rem; vertical-align: middle; margin-right: 0.5rem;">Exercise 4: Modify code
</button>
</h2>
<div id="ex4-collapseOne" class="accordion-collapse collapse show fs-4" aria-labelledby="ex4-headingOne" data-bs-parent="#accordionExercise4">
<div class="accordion-body fs-4">
Modify your code to gather search results 1-51.
</div>
</div>
</div>
<div class="accordion-item">
<h2 class="accordion-header anchored" id="ex4-headingTwo">
<button class="accordion-button fs-3 collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#ex4-collapseTwo" aria-expanded="false" aria-controls="ex4-collapseTwo">
<img src="images/magnifying_glass_standard_icon.png" alt="" aria-hidden="true" style="height: 3rem; vertical-align: middle; margin-right: 0.5rem;">Solution:
</button>
</h2>
<div id="ex4-collapseTwo" class="accordion-collapse collapse" aria-labelledby="ex4-headingTwo" data-bs-parent="#accordionExercise4">
<div class="accordion-body">
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb14"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 1. Import libraries</span></span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> requests</span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> csv</span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> bs4 <span class="im">import</span> BeautifulSoup</span>
<span id="cb14-5"><a href="#cb14-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-6"><a href="#cb14-6" aria-hidden="true" tabindex="-1"></a><span class="co"># 2. Create a function to write search results to csv</span></span>
<span id="cb14-7"><a href="#cb14-7" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> writeto_csv(data, filename, columns):</span>
<span id="cb14-8"><a href="#cb14-8" aria-hidden="true" tabindex="-1"></a>    <span class="cf">with</span> <span class="bu">open</span>(filename, <span class="st">'w+'</span>, newline<span class="op">=</span><span class="st">''</span>, encoding<span class="op">=</span><span class="st">"UTF-8"</span>) <span class="im">as</span> <span class="bu">file</span>:</span>
<span id="cb14-9"><a href="#cb14-9" aria-hidden="true" tabindex="-1"></a>        writer <span class="op">=</span> csv.DictWriter(<span class="bu">file</span>, fieldnames<span class="op">=</span>columns)</span>
<span id="cb14-10"><a href="#cb14-10" aria-hidden="true" tabindex="-1"></a>        writer.writeheader()</span>
<span id="cb14-11"><a href="#cb14-11" aria-hidden="true" tabindex="-1"></a>        writer <span class="op">=</span> csv.writer(<span class="bu">file</span>)</span>
<span id="cb14-12"><a href="#cb14-12" aria-hidden="true" tabindex="-1"></a>        <span class="cf">for</span> element <span class="kw">in</span> data:</span>
<span id="cb14-13"><a href="#cb14-13" aria-hidden="true" tabindex="-1"></a>            writer.writerows([element])</span>
<span id="cb14-14"><a href="#cb14-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-15"><a href="#cb14-15" aria-hidden="true" tabindex="-1"></a><span class="co"># 3. Define headers for final dataset</span></span>
<span id="cb14-16"><a href="#cb14-16" aria-hidden="true" tabindex="-1"></a>columns<span class="op">=</span>[<span class="st">'result_number'</span>,<span class="st">'unique_id'</span>,<span class="st">'article_title'</span>,<span class="st">'article_type'</span>,<span class="st">'document_date'</span>]</span>
<span id="cb14-17"><a href="#cb14-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-18"><a href="#cb14-18" aria-hidden="true" tabindex="-1"></a><span class="co">#4. Create empty dataset to store each row of data for csv file</span></span>
<span id="cb14-19"><a href="#cb14-19" aria-hidden="true" tabindex="-1"></a>dataset <span class="op">=</span> []</span>
<span id="cb14-20"><a href="#cb14-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-21"><a href="#cb14-21" aria-hidden="true" tabindex="-1"></a><span class="co">#5. Retrieve the XML</span></span>
<span id="cb14-22"><a href="#cb14-22" aria-hidden="true" tabindex="-1"></a><span class="co">## modify the url to increment r= by 20. Move response variable to the for loop below.</span></span>
<span id="cb14-23"><a href="#cb14-23" aria-hidden="true" tabindex="-1"></a>url1<span class="op">=</span><span class="st">"https://osupublicationarchives.osu.edu/?a=q&amp;r="</span></span>
<span id="cb14-24"><a href="#cb14-24" aria-hidden="true" tabindex="-1"></a>url2<span class="op">=</span><span class="st">"&amp;results=1&amp;tyq=ARTICLE&amp;e=------197-en-20-LTN-1--txt-txIN-homecoming+parade------&amp;f=XML"</span></span>
<span id="cb14-25"><a href="#cb14-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-26"><a href="#cb14-26" aria-hidden="true" tabindex="-1"></a><span class="co">#6. Create a for loop to search each page of results. Use range(start, stop, step) to ask</span></span>
<span id="cb14-27"><a href="#cb14-27" aria-hidden="true" tabindex="-1"></a><span class="co"># Python to increment i by 20 for each loop. The first SearchResultNumber (i.e. start) is 1. The last</span></span>
<span id="cb14-28"><a href="#cb14-28" aria-hidden="true" tabindex="-1"></a><span class="co"># SearchResultNumber (i.e. stop) is 51.  Construct a new url for the response variable.</span></span>
<span id="cb14-29"><a href="#cb14-29" aria-hidden="true" tabindex="-1"></a><span class="co"># Parse the response content with Beautiful Soup.</span></span>
<span id="cb14-30"><a href="#cb14-30" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> i <span class="kw">in</span> <span class="bu">range</span>(<span class="dv">1</span>,<span class="dv">51</span>,<span class="dv">20</span>):</span>
<span id="cb14-31"><a href="#cb14-31" aria-hidden="true" tabindex="-1"></a>    response<span class="op">=</span>requests.get(url1<span class="op">+</span><span class="bu">str</span>(i)<span class="op">+</span>url2).content </span>
<span id="cb14-32"><a href="#cb14-32" aria-hidden="true" tabindex="-1"></a>    soup <span class="op">=</span> BeautifulSoup(response, <span class="st">'xml'</span>)    </span>
<span id="cb14-33"><a href="#cb14-33" aria-hidden="true" tabindex="-1"></a>    logical_section <span class="op">=</span> soup.find_all(<span class="st">"LogicalSection"</span>)</span>
<span id="cb14-34"><a href="#cb14-34" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> each_section <span class="kw">in</span> logical_section:</span>
<span id="cb14-35"><a href="#cb14-35" aria-hidden="true" tabindex="-1"></a>        result_number <span class="op">=</span> each_section.SearchResultNumber.string</span>
<span id="cb14-36"><a href="#cb14-36" aria-hidden="true" tabindex="-1"></a>        unique_id <span class="op">=</span> each_section.find(<span class="st">"LogicalSectionID"</span>).string</span>
<span id="cb14-37"><a href="#cb14-37" aria-hidden="true" tabindex="-1"></a>        article_title <span class="op">=</span> each_section.find(<span class="st">"LogicalSectionTitle"</span>).string</span>
<span id="cb14-38"><a href="#cb14-38" aria-hidden="true" tabindex="-1"></a>        article_type <span class="op">=</span> each_section.find(<span class="st">"LogicalSectionType"</span>).string</span>
<span id="cb14-39"><a href="#cb14-39" aria-hidden="true" tabindex="-1"></a>        document_date <span class="op">=</span> each_section.find(<span class="st">"DocumentDate"</span>).string</span>
<span id="cb14-40"><a href="#cb14-40" aria-hidden="true" tabindex="-1"></a>        dataset.append([result_number,unique_id,article_title,article_type,document_date]) <span class="co">#adds a list of variables for each section to the dataset</span></span>
<span id="cb14-41"><a href="#cb14-41" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-42"><a href="#cb14-42" aria-hidden="true" tabindex="-1"></a><span class="co">#7. Use the writeto_csv function defined in #2 to create the final .csv file with each row  </span></span>
<span id="cb14-43"><a href="#cb14-43" aria-hidden="true" tabindex="-1"></a>writeto_csv(dataset,<span class="st">'data/lantern_results.csv'</span>,columns)     <span class="co">#uses the function defined in #2 to create the final .csv file with each row  </span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
</div>
</div>
</div>
<div id="accordionExercise5" class="accordion">
<div class="accordion-item">
<h2 class="accordion-header anchored" id="ex5-headingOne">
<button class="accordion-button fs-3" type="button" data-bs-toggle="collapse" data-bs-target="#ex5-collapseOne" aria-expanded="true" aria-controls="ex5-collapseOne">
<img src="images/guidepost_standard_icon.png" alt="" aria-hidden="true" style="height: 3rem; vertical-align: middle; margin-right: 0.5rem;">Exercise 5: Gather article text
</button>
</h2>
<div id="ex5-collapseOne" class="accordion-collapse collapse show fs-4" aria-labelledby="ex5-headingOne" data-bs-parent="#accordionExercise5">
<div class="accordion-body fs-4">
<p>
The default search output provide structured bibliographic metadata for each homecoming parade article. How might you modify your code to gather the publication_text for each article?
</p>
</div>
</div>
</div>
<div class="accordion-item">
<h2 class="accordion-header anchored" id="ex5-headingTwo">
<button class="accordion-button fs-3 collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#ex5-collapseTwo" aria-expanded="false" aria-controls="ex5-collapseTwo">
<img src="images/magnifying_glass_standard_icon.png" alt="" aria-hidden="true" style="height: 3rem; vertical-align: middle; margin-right: 0.5rem;">Solution:
</button>
</h2>
<div id="ex5-collapseTwo" class="accordion-collapse collapse" aria-labelledby="ex5-headingTwo" data-bs-parent="#accordionExercise5">
<div class="accordion-body">
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb15"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 1. Import libraries</span></span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> requests</span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> csv</span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> bs4 <span class="im">import</span> BeautifulSoup</span>
<span id="cb15-5"><a href="#cb15-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-6"><a href="#cb15-6" aria-hidden="true" tabindex="-1"></a><span class="co"># 2. Create a function to write search results to csv</span></span>
<span id="cb15-7"><a href="#cb15-7" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> writeto_csv(data, filename, columns):</span>
<span id="cb15-8"><a href="#cb15-8" aria-hidden="true" tabindex="-1"></a>    <span class="cf">with</span> <span class="bu">open</span>(filename, <span class="st">'w+'</span>, newline<span class="op">=</span><span class="st">''</span>, encoding<span class="op">=</span><span class="st">"UTF-8"</span>) <span class="im">as</span> <span class="bu">file</span>:</span>
<span id="cb15-9"><a href="#cb15-9" aria-hidden="true" tabindex="-1"></a>        writer <span class="op">=</span> csv.DictWriter(<span class="bu">file</span>, fieldnames<span class="op">=</span>columns)</span>
<span id="cb15-10"><a href="#cb15-10" aria-hidden="true" tabindex="-1"></a>        writer.writeheader()</span>
<span id="cb15-11"><a href="#cb15-11" aria-hidden="true" tabindex="-1"></a>        writer <span class="op">=</span> csv.writer(<span class="bu">file</span>)</span>
<span id="cb15-12"><a href="#cb15-12" aria-hidden="true" tabindex="-1"></a>        <span class="cf">for</span> element <span class="kw">in</span> data:</span>
<span id="cb15-13"><a href="#cb15-13" aria-hidden="true" tabindex="-1"></a>            writer.writerows([element])</span>
<span id="cb15-14"><a href="#cb15-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-15"><a href="#cb15-15" aria-hidden="true" tabindex="-1"></a><span class="co"># 3. Define headers for final dataset</span></span>
<span id="cb15-16"><a href="#cb15-16" aria-hidden="true" tabindex="-1"></a>columns<span class="op">=</span>[<span class="st">'result_number'</span>,<span class="st">'unique_id'</span>,<span class="st">'artile_title'</span>,<span class="st">'article_type'</span>,<span class="st">'document_date'</span>]</span>
<span id="cb15-17"><a href="#cb15-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-18"><a href="#cb15-18" aria-hidden="true" tabindex="-1"></a><span class="co">#4. Create empty dataset to store each row of data for csv file</span></span>
<span id="cb15-19"><a href="#cb15-19" aria-hidden="true" tabindex="-1"></a>dataset <span class="op">=</span> []</span>
<span id="cb15-20"><a href="#cb15-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-21"><a href="#cb15-21" aria-hidden="true" tabindex="-1"></a><span class="co">#5. Retrieve the XML</span></span>
<span id="cb15-22"><a href="#cb15-22" aria-hidden="true" tabindex="-1"></a><span class="co">## modify the url to increment r= by 20. Move response variable to the for loop below.</span></span>
<span id="cb15-23"><a href="#cb15-23" aria-hidden="true" tabindex="-1"></a>url1<span class="op">=</span><span class="st">"https://osupublicationarchives.osu.edu/?a=q&amp;r="</span></span>
<span id="cb15-24"><a href="#cb15-24" aria-hidden="true" tabindex="-1"></a>url2<span class="op">=</span><span class="st">"&amp;results=1&amp;tyq=ARTICLE&amp;e=------197-en-20-LTN-1--txt-txIN-homecoming+parade------&amp;f=XML"</span></span>
<span id="cb15-25"><a href="#cb15-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-26"><a href="#cb15-26" aria-hidden="true" tabindex="-1"></a><span class="co">#6. Create a for loop to search each page of results. Use range(start, stop, step) to ask</span></span>
<span id="cb15-27"><a href="#cb15-27" aria-hidden="true" tabindex="-1"></a><span class="co"># Python to increment i by 20 for each loop. The first SearchResultNumber (i.e. start) is 1. The last</span></span>
<span id="cb15-28"><a href="#cb15-28" aria-hidden="true" tabindex="-1"></a><span class="co"># SearchResultNumber (i.e. stop) is 51.  Construct a new url for the response variable.</span></span>
<span id="cb15-29"><a href="#cb15-29" aria-hidden="true" tabindex="-1"></a><span class="co"># Parse the response content with Beautiful Soup.</span></span>
<span id="cb15-30"><a href="#cb15-30" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> i <span class="kw">in</span> <span class="bu">range</span>(<span class="dv">1</span>,<span class="dv">51</span>,<span class="dv">20</span>):</span>
<span id="cb15-31"><a href="#cb15-31" aria-hidden="true" tabindex="-1"></a>    response<span class="op">=</span>requests.get(url1<span class="op">+</span><span class="bu">str</span>(i)<span class="op">+</span>url2).content </span>
<span id="cb15-32"><a href="#cb15-32" aria-hidden="true" tabindex="-1"></a>    soup <span class="op">=</span> BeautifulSoup(response, <span class="st">'xml'</span>)    </span>
<span id="cb15-33"><a href="#cb15-33" aria-hidden="true" tabindex="-1"></a>    logical_section <span class="op">=</span> soup.find_all(<span class="st">"LogicalSection"</span>)</span>
<span id="cb15-34"><a href="#cb15-34" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> each_section <span class="kw">in</span> logical_section:</span>
<span id="cb15-35"><a href="#cb15-35" aria-hidden="true" tabindex="-1"></a>        result_number <span class="op">=</span> each_section.SearchResultNumber.string</span>
<span id="cb15-36"><a href="#cb15-36" aria-hidden="true" tabindex="-1"></a>        unique_id <span class="op">=</span> each_section.find(<span class="st">"LogicalSectionID"</span>).string</span>
<span id="cb15-37"><a href="#cb15-37" aria-hidden="true" tabindex="-1"></a>        article_title <span class="op">=</span> each_section.find(<span class="st">"LogicalSectionTitle"</span>).string</span>
<span id="cb15-38"><a href="#cb15-38" aria-hidden="true" tabindex="-1"></a>        article_type <span class="op">=</span> each_section.find(<span class="st">"LogicalSectionType"</span>).string</span>
<span id="cb15-39"><a href="#cb15-39" aria-hidden="true" tabindex="-1"></a>        document_date <span class="op">=</span> each_section.find(<span class="st">"DocumentDate"</span>).string</span>
<span id="cb15-40"><a href="#cb15-40" aria-hidden="true" tabindex="-1"></a>        dataset.append([result_number,unique_id,article_title,article_type,document_date]) <span class="co">#adds a list of variables for each section to the dataset</span></span>
<span id="cb15-41"><a href="#cb15-41" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-42"><a href="#cb15-42" aria-hidden="true" tabindex="-1"></a><span class="co">#7. Use the writeto_csv function defined in #2 to create the final .csv file with each row  </span></span>
<span id="cb15-43"><a href="#cb15-43" aria-hidden="true" tabindex="-1"></a>writeto_csv(dataset,<span class="st">'data/lantern_results.csv'</span>,columns)     <span class="co">#uses the function defined in #2 to create the final .csv file with each row  </span></span>
<span id="cb15-44"><a href="#cb15-44" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-45"><a href="#cb15-45" aria-hidden="true" tabindex="-1"></a><span class="co">#8. Go back to your original search HTML by removing &amp;f=XML from your search url and click on article #1: "Whose homecoming?" </span></span>
<span id="cb15-46"><a href="#cb15-46" aria-hidden="true" tabindex="-1"></a><span class="co"># Note the unique_id LTN19781023-01.2.24 for the article and the position of this unique_id in the search url. Try using the url without </span></span>
<span id="cb15-47"><a href="#cb15-47" aria-hidden="true" tabindex="-1"></a><span class="co"># the parameters listed after the unique_id. 'https://osupublicationarchives.osu.edu/?a=d&amp;d=LTN19781023-01.2.24' Append &amp;f=XML to the</span></span>
<span id="cb15-48"><a href="#cb15-48" aria-hidden="true" tabindex="-1"></a><span class="co"># end of this url to retrieve XML for this publication from the server. Note that publication_text is present in the node</span></span>
<span id="cb15-49"><a href="#cb15-49" aria-hidden="true" tabindex="-1"></a><span class="co"># LogicalSectionTextHTML.</span></span>
<span id="cb15-50"><a href="#cb15-50" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-51"><a href="#cb15-51" aria-hidden="true" tabindex="-1"></a><span class="co"># Now use a for loop to iterate through the urls for each unique_id listed in your dataset variable to gather the publication_text. But</span></span>
<span id="cb15-52"><a href="#cb15-52" aria-hidden="true" tabindex="-1"></a><span class="co"># first, create a new list of column headers and a new dataset variable to pass into your writeto_csv function. This will allow you to output</span></span>
<span id="cb15-53"><a href="#cb15-53" aria-hidden="true" tabindex="-1"></a><span class="co"># your results to a new .csv file.</span></span>
<span id="cb15-54"><a href="#cb15-54" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-55"><a href="#cb15-55" aria-hidden="true" tabindex="-1"></a>columns2<span class="op">=</span>[<span class="st">'unique_id'</span>,<span class="st">'article_title'</span>,<span class="st">'article_type'</span>,<span class="st">'publication_date'</span>,<span class="st">'publication_text'</span>]</span>
<span id="cb15-56"><a href="#cb15-56" aria-hidden="true" tabindex="-1"></a>dataset2<span class="op">=</span>[]</span>
<span id="cb15-57"><a href="#cb15-57" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-58"><a href="#cb15-58" aria-hidden="true" tabindex="-1"></a><span class="co">#sample_url='https://osupublicationarchives.osu.edu/?a=d&amp;d=LTN19781023-01.2.24&amp;f=XML'</span></span>
<span id="cb15-59"><a href="#cb15-59" aria-hidden="true" tabindex="-1"></a>base_url<span class="op">=</span><span class="st">'https://osupublicationarchives.osu.edu/?a=d&amp;d='</span></span>
<span id="cb15-60"><a href="#cb15-60" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-61"><a href="#cb15-61" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> each_list <span class="kw">in</span> dataset:</span>
<span id="cb15-62"><a href="#cb15-62" aria-hidden="true" tabindex="-1"></a>    unique_id<span class="op">=</span>each_list[<span class="dv">1</span>]</span>
<span id="cb15-63"><a href="#cb15-63" aria-hidden="true" tabindex="-1"></a>    article_title<span class="op">=</span>each_list[<span class="dv">2</span>]</span>
<span id="cb15-64"><a href="#cb15-64" aria-hidden="true" tabindex="-1"></a>    article_type<span class="op">=</span>each_list[<span class="dv">3</span>]</span>
<span id="cb15-65"><a href="#cb15-65" aria-hidden="true" tabindex="-1"></a>    publication_date<span class="op">=</span>each_list[<span class="dv">4</span>]</span>
<span id="cb15-66"><a href="#cb15-66" aria-hidden="true" tabindex="-1"></a>    url<span class="op">=</span>base_url<span class="op">+</span>unique_id<span class="op">+</span><span class="st">'&amp;f=XML'</span></span>
<span id="cb15-67"><a href="#cb15-67" aria-hidden="true" tabindex="-1"></a>    xml<span class="op">=</span>requests.get(url).content</span>
<span id="cb15-68"><a href="#cb15-68" aria-hidden="true" tabindex="-1"></a>    soup<span class="op">=</span>BeautifulSoup(xml,<span class="st">'xml'</span>)</span>
<span id="cb15-69"><a href="#cb15-69" aria-hidden="true" tabindex="-1"></a>    publication_text<span class="op">=</span>soup.find(<span class="st">"LogicalSectionTextHTML"</span>).text</span>
<span id="cb15-70"><a href="#cb15-70" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-71"><a href="#cb15-71" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb15-72"><a href="#cb15-72" aria-hidden="true" tabindex="-1"></a>    dataset2.append([unique_id,article_title,article_type,publication_date,publication_text])</span>
<span id="cb15-73"><a href="#cb15-73" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-74"><a href="#cb15-74" aria-hidden="true" tabindex="-1"></a>writeto_csv(dataset2,<span class="st">'data/lantern_text.csv'</span>,columns2)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
</div>
</div>
</div>


</section></section></section></main></div>







 <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    const icon = "Óßã";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
      const outerScaffold = trigger.parentElement.cloneNode(true);
      const codeEl = outerScaffold.querySelector('code');
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp("https:\/\/Murphy465\.github\.io\/data_visualization_test\/");
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="./python_basics.html" class="pagination-link" aria-label="Mastering the Basics">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text">Mastering the Basics</span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./animals.html" class="pagination-link" aria-label="Lesson 2. Meet the Animals">
        <span class="nav-page-text">Lesson 2. Meet the Animals</span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
 <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">
      <ul class="footer-items list-unstyled">
    <li class="nav-item">
    <a class="nav-link" href="https://library.osu.edu/policies/copyright-information">
<p>¬© 2026 The Ohio State University</p>
</a>
  </li>  
</ul>
    </div>   
    <div class="nav-footer-center">
      &nbsp;
    </div>
    <div class="nav-footer-right">
      &nbsp;
    </div>
  </div>
</footer>




</body></html>